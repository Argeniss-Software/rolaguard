# RoLaGuard Community Edition

A LoRaWAN Operations, Cybersecurity & Compliance Management Platform.

Docker Compose is needed to run RoLaGuard. To install docker-compose, go to [this link](https://docs.docker.com/compose/install/) and follow the instructions for your OS. Note that for Windows and MacOS, docker-compose is included in Docker desktop. For Linux, you'd have to download both programs separately.

Clone this project and its submodules with `git clone --recurse-submodules https://github.com/Argeniss-Software/rolaguard && cd rolaguard`
> _If you are using Windows with WSL, make sure to clone this project and execute the following commands from the linux shell._

## Run RoLaGuard using Makefile

To start up the system locally with all the modules running inside docker containers, simply run `make all` command. This will clean up the database, pull the develop branch of all modules, and build the images. It'll take a time to finish its execution, so please be patient. Go to the [Makefile](./Makefile) to see other options.

## Run RoLaGuard manually using docker-compose

After docker-compose is installed, follow these steps:

1. Fetch the latest changes for each submodule:
    ``` bash
    git submodule foreach --recursive '
    if [ "$name" != "postgres" ]; then
        git checkout develop && git pull;
    else
        git checkout master && git pull;
    fi'
    ```

1. Execute `docker-compose build`. Running this command will build the images locally. It'll take a time to finish its execution, so please be patient.

1. Execute `docker-compose up`. 

## Access RoLaGuard

Once you have executed `docker-compose up` or `make all`, **wait until all the components init** (it may take a couple minutes) and access the RoLaGuard web interface following this link <http://localhost:30000>.

To access the system use these credentials:

* user: admin
* password: admin

> _Please, remember to change the password._

An open network server is pre-loaded, therefore, some alerts must appear.

All the data generated by the the system will be saved in ~/rolaguard, to be persisted when the system is shutdown.
The folder used to persist data can be changed modifying the field services->postgres->volumes in the docker-compose.yml file.

## Additional features

* If you intend to utilize RoLaGuard as a server accessible from other devices, navigate to the rolaguard\config\frontend.env file and replace the "${DOMAIN}" attribute with the appropriate IP address.

* If you wish to send email notifications, navigate to rolaguard\config\backend.env, change the field SEND_EMAILS to True, and modify the fields below (there are example comments on how they should be configured).

After making these changes, execute `docker-compose build/up` or `make all` again for them to take effect. 

## Documentation

* [Instruction for TTN connection](./documentation/ttn_connection.pdf)

* [Instruction for TTN v3 connection](./documentation/ttnv3_connection.pdf)